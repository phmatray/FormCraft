@inject IDemoRegistry DemoRegistry

@if (_previous != null || _next != null)
{
    <MudPaper Elevation="0" Class="mt-6 pa-4" Style="background: transparent;">
        @if (_isLevelTransition && _nextLevelInfo.HasValue)
        {
            <MudAlert Severity="Severity.Success" Variant="Variant.Outlined" Class="mb-4">
                <div class="d-flex align-center">
                    <MudIcon Icon="@Icons.Material.Filled.EmojiEvents" Class="me-2" />
                    <MudText>
                        Great progress! Ready to advance to
                        <MudChip T="string" Size="Size.Small" Color="@_nextLevelInfo.Value.Color" Class="mx-1">
                            @_nextLevelInfo.Value.Name
                        </MudChip>
                        level?
                    </MudText>
                </div>
            </MudAlert>
        }

        <div class="d-flex justify-space-between">
            @if (_previous != null)
            {
                <MudButton Href="@_previous.Id" Variant="Variant.Text" StartIcon="@Icons.Material.Filled.ArrowBack" Color="Color.Primary">
                    <div class="d-flex flex-column align-start">
                        <MudText Typo="Typo.caption" Class="mud-text-secondary">Previous</MudText>
                        <MudText Typo="Typo.body2">@_previous.Title</MudText>
                    </div>
                </MudButton>
            }
            else
            {
                <div></div>
            }

            @if (_next != null)
            {
                <MudButton Href="@_next.Id"
                           Variant="@(_isLevelTransition ? Variant.Filled : Variant.Text)"
                           EndIcon="@(_isLevelTransition ? Icons.Material.Filled.ArrowUpward : Icons.Material.Filled.ArrowForward)"
                           Color="@(_isLevelTransition ? Color.Success : Color.Primary)">
                    <div class="d-flex flex-column align-end">
                        <MudText Typo="Typo.caption" Class="@(_isLevelTransition ? "" : "mud-text-secondary")">
                            @(_isLevelTransition ? "Level Up!" : "Next")
                        </MudText>
                        <MudText Typo="Typo.body2">@_next.Title</MudText>
                    </div>
                </MudButton>
            }
        </div>
    </MudPaper>
}
