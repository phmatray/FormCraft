@page "/password-demo"

<DemoPageLayout
    DemoId="password-demo"
    Title="Password Fields & Adornments"
    Icon="@Icons.Material.Filled.Lock"
    Description="Comprehensive demonstration of password fields with visibility toggle, custom adornments, and secure input handling using MudBlazor."
    FormDemoIcon="@Icons.Material.Filled.Security">
    <FormDemoContent>
        <!-- Login Form Demo -->
        <FormDemoSection
            TModel="LoginFormModel"
            Model="@_loginModel"
            Configuration="@_loginFormConfiguration"
            FormTitle="Login Form (Basic Password)"
            FormIcon="@Icons.Material.Filled.Login"
            IsSubmitted="@_loginSubmitted"
            IsSubmitting="@_loginSubmitting"
            OnValidSubmit="@HandleLoginSubmit"
            OnReset="@ResetLoginForm"
            DataDisplayItems="@GetLoginDisplayItems()"
            ShowSubmitButton="true"
            SubmitButtonText="Login"
            SubmittingText="Authenticating..."
            SubmitButtonClass="px-8">
            <SidebarContent>
                <FormGuidelines Guidelines="@_loginFeatures" Title="Basic Password Features" />
            </SidebarContent>
        </FormDemoSection>

        <!-- Registration Form Demo -->
        <FormDemoSection
            TModel="RegisterFormModel"
            Model="@_registerModel"
            Configuration="@_registerFormConfiguration"
            FormTitle="Registration Form (Password with Toggle)"
            FormIcon="@Icons.Material.Filled.PersonAdd"
            IsSubmitted="@_registerSubmitted"
            IsSubmitting="@_registerSubmitting"
            OnValidSubmit="@HandleRegisterSubmit"
            OnReset="@ResetRegisterForm"
            DataDisplayItems="@GetRegisterDisplayItems()"
            ShowSubmitButton="true"
            SubmitButtonText="Register"
            SubmittingText="Creating Account..."
            SubmitButtonClass="px-8">
            <SidebarContent>
                <FormGuidelines Guidelines="@_registerFeatures" Title="Advanced Password Features" />
            </SidebarContent>
            <AdditionalContent>
                @if (_passwordStrengthScore > 0)
                {
                    <MudCard Class="mt-4" Elevation="2">
                        <MudCardContent>
                            <MudText Typo="Typo.h6" GutterBottom="true" Class="d-flex align-items-center">
                                <MudIcon Icon="@Icons.Material.Filled.Shield" Class="me-2 text-info" />
                                Password Strength
                            </MudText>
                            <MudProgressLinear
                                Color="@GetPasswordStrengthColor()"
                                Value="@_passwordStrengthScore"
                                Size="Size.Medium"
                                Class="my-3" />
                            <MudText Typo="Typo.body2" Color="@GetPasswordStrengthColor()">
                                @GetPasswordStrengthLabel()
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                }
            </AdditionalContent>
        </FormDemoSection>

        <!-- Security Form Demo (Custom Adornments) -->
        <FormDemoSection
            TModel="SecurityFormModel"
            Model="@_securityModel"
            Configuration="@_securityFormConfiguration"
            FormTitle="Security Credentials (Custom Adornments)"
            FormIcon="@Icons.Material.Filled.VpnKey"
            IsSubmitted="@_securitySubmitted"
            IsSubmitting="@_securitySubmitting"
            OnValidSubmit="@HandleSecuritySubmit"
            OnReset="@ResetSecurityForm"
            DataDisplayItems="@GetSecurityDisplayItems()"
            ShowSubmitButton="true"
            SubmitButtonText="Save Credentials"
            SubmittingText="Saving..."
            SubmitButtonClass="px-8">
            <SidebarContent>
                <FormGuidelines Guidelines="@_securityFeatures" Title="Custom Adornment Features" />
            </SidebarContent>
        </FormDemoSection>
    </FormDemoContent>

    <CodeExampleContent>
        <MudTabs Elevation="0" Rounded="true" Color="Color.Primary" Class="mb-4">
            <MudTabPanel Text="Login Form" Icon="@Icons.Material.Filled.Login">
                <CodeExample
                    Title="Basic Password Field Configuration"
                    Language="csharp"
                    Code="@GetLoginCode()" />
            </MudTabPanel>

            <MudTabPanel Text="Registration Form" Icon="@Icons.Material.Filled.PersonAdd">
                <CodeExample
                    Title="Password with Visibility Toggle"
                    Language="csharp"
                    Code="@GetRegisterCode()" />
            </MudTabPanel>

            <MudTabPanel Text="Security Form" Icon="@Icons.Material.Filled.VpnKey">
                <CodeExample
                    Title="Custom Adornments Configuration"
                    Language="csharp"
                    Code="@GetSecurityCode()" />
            </MudTabPanel>
        </MudTabs>
    </CodeExampleContent>

    <GuidelinesContent>
        <ApiGuidelinesTable
            Title="Password Field API Reference"
            Items="@_apiGuidelineTableItems" />
    </GuidelinesContent>
</DemoPageLayout>